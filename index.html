<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<style>
  body { font-family: 'Poppins', sans-serif; background-color: #1a1424; color: white; scroll-behavior: smooth; }
  .btn { background-color: #D4AF37; color: black; padding: 0.5rem 1rem; border-radius: 0.5rem; font-weight: 600; transition: all 0.2s; cursor: pointer; display: inline-block; text-align: center; }
  .btn:hover { transform: scale(1.05); box-shadow: 0 0 20px #D4AF37; }
  .video-slide { max-width: 100%; border-radius: 0.5rem; box-shadow: 0 0 20px #000; }
  .discount-badge { background-color: #ff4d6d; color: white; padding: 0.2rem 0.5rem; font-size: 0.8rem; border-radius: 0.3rem; margin-left: 0.5rem; }
  .faq-question { font-weight: bold; margin-top: 1rem; }
  .footer-links a { color: #D4AF37; text-decoration: underline; }
</style>
</head>
<body>
<!-- Kairah Studio â€” Horizontal Plans + Reusable Payment Modal (full code) -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Kairah Studio â€” Plans</title>
  <script async src="https://js.stripe.com/v3/buy-button.js"></script>
  <style>
    /* Minimal reset */
    * { box-sizing: border-box; }
    body { font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; margin:0; background:#0b0b0c; color:#fff; }
    a { color:inherit; text-decoration:none; }

    /* Container */
    .plans-wrap { padding:48px 24px; max-width:1200px; margin:0 auto; }

    /* Horizontal scroll */
    .plans-row {
      display:flex;
      gap:20px;
      overflow-x:auto;
      padding-bottom:12px;
      scroll-snap-type:x mandatory;
      -webkit-overflow-scrolling:touch;
    }
    .plans-row::-webkit-scrollbar { height:10px; }
    .plans-row::-webkit-scrollbar-thumb { background: rgba(212,175,55,0.3); border-radius:999px; }

    /* Card */
    .plan-card {
      flex:0 0 320px;
      background:#3D2C41;
      border-radius:20px;
      padding:22px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.6);
      scroll-snap-align:center;
      transition: transform .22s ease, box-shadow .22s ease;
      border:1px solid rgba(212,175,55,0.06);
    }
    .plan-card:hover { transform:translateY(-6px) scale(1.02); box-shadow: 0 18px 40px rgba(0,0,0,0.7); }

    .plan-head { display:flex; align-items:center; justify-content:space-between; gap:8px; }
    .plan-title { color:#D4AF37; font-weight:700; font-size:20px; margin:0; }
    .plan-price { font-size:18px; font-weight:700; color:#fff; margin:0; }

    .plan-desc { color:#e7dfe2; margin:12px 0 14px; font-size:14px; line-height:1.45; min-height:78px; }

    .plan-features { color:#dcd5d9; font-size:13px; margin:10px 0 14px; display:block; }
    .plan-features li { margin:8px 0; }

    .plan-cta { display:flex; gap:10px; align-items:center; flex-direction:column; margin-top:8px; }
    .btn-pay { background:#D4AF37; color:#3D2C41; border:none; padding:10px 16px; border-radius:12px; font-weight:700; cursor:pointer; width:100%; }
    .btn-pay:hover { filter:brightness(.95); transform:translateY(-2px); }

    /* Modal */
    .modal { position:fixed; inset:0; background:rgba(0,0,0,0.6); display:none; align-items:center; justify-content:center; z-index:9999; padding:20px; }
    .modal.show { display:flex; }
    .modal-card { width:420px; max-width:96%; background:#fff; color:#111827; border-radius:16px; padding:20px; position:relative; box-shadow:0 20px 60px rgba(0,0,0,0.6); }
    .modal-close { position:absolute; right:12px; top:10px; font-size:20px; background:transparent; border:none; cursor:pointer; color:#6b7280; }
    .modal-title { font-size:20px; color:#3D2C41; margin:6px 0 2px; font-weight:700; }
    .modal-sub { color:#374151; margin:0 0 14px; font-weight:600; }

    .pay-btn { display:flex; gap:10px; align-items:center; justify-content:center; padding:10px; border-radius:10px; font-weight:700; border:none; cursor:pointer; width:100%; }
    .pay-paypal { background:#003087; color:#fff; }
    .pay-paystack { background:#3DA58A; color:#fff; }
    .pay-mpesa { background:#F59E0B; color:#111827; }

    .stripe-wrap { margin-bottom:10px; }

    /* Responsive */
    @media (max-width:760px) {
      .plan-card { flex:0 0 86%; }
      .modal-card { width:94%; }
    }
  </style>
</head>
<body>
  <main class="plans-wrap">

    <!-- Heading -->
    <header style="text-align:center; margin-bottom:18px;">
      <h1 style="margin:0; font-size:22px; color:#fff;">Kairah Studio â€” Plans</h1>
      <p style="margin:6px 0 0; color:#d1c7cf; max-width:900px; margin-left:auto; margin-right:auto; font-size:14px;">
        World-class AI video generation for creators â€” better than Veo and Sora. Choose a plan that matches your ambition.
      </p>
    </header>

    <!-- Horizontal plans row -->
    <section class="plans-row" aria-label="Plans">
      <!-- Entry -->
      <article class="plan-card" data-plan="entry" role="article">
        <div class="plan-head">
          <h2 class="plan-title">Entry</h2>
          <div class="plan-price">$19</div>
        </div>

        <p class="plan-desc">
          The Starter Key to Kairahâ€™s power â€” focused, fast, and made for creators testing ideas. Short-form ready: cinematic 6s clips with crisp detail, social-optimized templates, and an intuitive workflow so you can create scroll-stopping content in seconds.
        </p>

        <ul class="plan-features" aria-hidden="false">
          <li><strong>6-second HD videos:</strong> Fast renders, polished output â€” ideal for TikTok & Reels.</li>
          <li><strong>Starter viral templates:</strong> Pre-built, trend-proven structures to jumpstart ideas.</li>
          <li><strong>Basic audio pack:</strong> Hand-selected trending clips to pair with your visuals.</li>
          <li><strong>Beginner-friendly UI:</strong> One-click creation with helpful defaults and tips.</li>
          <li><strong>Free creative prompts:</strong> Prompt Magic presets to generate polished results fast.</li>
        </ul>

        <div class="plan-cta">
          <button class="btn-pay openPayModal" data-plan="entry">Pay Now â€” $19</button>
        </div>
      </article>

      <!-- Pro -->
      <article class="plan-card" data-plan="pro" role="article">
        <div class="plan-head">
          <h2 class="plan-title">Pro</h2>
          <div class="plan-price">$49</div>
        </div>

        <p class="plan-desc">
          The Serious Creatorâ€™s Toolbox â€” unlock longer, sharper, and more tailored videos. Pro gives you production-level outputs, trending audio packs, advanced templates, and analytics so you can iterate toward virality with real data â€” daily.
        </p>

        <ul class="plan-features">
          <li><strong>Up to 20s Full-HD:</strong> More screen time, more storytelling, more hooks.</li>
          <li><strong>Daily trending templates & audios:</strong> Always in tune with platform trends.</li>
          <li><strong>Priority rendering:</strong> Faster queue times for creators who post often.</li>
          <li><strong>Advanced analytics:</strong> Actionable insight â€” what works and why.</li>
          <li><strong>Prompt Magic Pro:</strong> Auto-refines your ideas into high-engagement scripts.</li>
        </ul>

        <div class="plan-cta">
          <button class="btn-pay openPayModal" data-plan="pro">Pay Now â€” $49</button>
        </div>
      </article>

      <!-- Diamond -->
      <article class="plan-card" data-plan="diamond" role="article">
        <div class="plan-head">
          <h2 class="plan-title">Diamond</h2>
          <div class="plan-price">$449</div>
        </div>

        <p class="plan-desc">
          The Elite Creator Suite â€” unlimited, cinematic, and built for creators who demand the absolute best. Access pro-level models, trend prediction engines, exclusive templates, and 24/7 priority support. Diamond is where creators scale to professional levels.
        </p>

        <ul class="plan-features">
          <li><strong>Unlimited generation:</strong> Create without throttling â€” day or night.</li>
          <li><strong>Cinematic quality & effects:</strong> Film-grade color, motion, and depth.</li>
          <li><strong>Trend prediction engine:</strong> AI suggests concepts likely to go viral.</li>
          <li><strong>Exclusive assets:</strong> Diamond-only templates & audio banks.</li>
          <li><strong>24/7 priority support:</strong> Fast help whenever you need it.</li>
        </ul>

        <div class="plan-cta">
          <button class="btn-pay openPayModal" data-plan="diamond">Pay Now â€” $449</button>
        </div>
      </article>

      <!-- Lifetime -->
      <article class="plan-card" data-plan="lifetime" role="article">
        <div class="plan-head">
          <h2 class="plan-title">Lifetime</h2>
          <div class="plan-price">$999</div>
        </div>

        <p class="plan-desc">
          The Ultimate Creator License â€” pay once, create forever. All Diamond benefits plus lifetime updates, VIP community access, masterclasses, and guaranteed access to every future model and feature we build.
        </p>

        <ul class="plan-features">
          <li><strong>One payment, forever:</strong> Lifetime access to every current & future Kairah feature.</li>
          <li><strong>VIP Creator status:</strong> Exclusive community, masterclasses, and partnerships.</li>
          <li><strong>Private beta invites:</strong> First to test new models and features.</li>
          <li><strong>Priority & concierge support:</strong> Fastest service and onboarding help.</li>
          <li><strong>Daily AI creative briefs:</strong> Fresh ideas and scripts delivered to you.</li>
        </ul>

        <div class="plan-cta">
          <button class="btn-pay openPayModal" data-plan="lifetime">Pay Now â€” $999</button>
        </div>
      </article>
    </section>
  </main>

  <!-- Reusable Payment Modal -->
  <div id="paymentModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modal-card">
      <button class="modal-close" id="closeModalBtn" aria-label="Close">âœ•</button>
      <h3 id="modalTitle" class="modal-title">Plan</h3>
      <p id="modalSubtitle" class="modal-sub">Choose a payment method</p>

      <!-- PayPal -->
      <a id="paypalBtn" class="pay-btn pay-paypal" target="_blank" rel="noopener noreferrer">
        <img src="https://upload.wikimedia.org/wikipedia/commons/3/39/PayPal_logo.svg" alt="PayPal" style="height:16px;margin-right:10px;">
        <span>Pay with PayPal</span>
      </a>

      <!-- Stripe container (dynamic creation) -->
      <div id="stripeContainer" class="stripe-wrap" aria-live="polite"></div>

      <!-- Paystack -->
      <a id="paystackBtn" class="pay-btn pay-paystack" target="_blank" rel="noopener noreferrer">
        <img src="https://upload.wikimedia.org/wikipedia/commons/0/09/Paystack_logo.png" alt="Paystack" style="height:16px;margin-right:10px;">
        <span>Pay with Paystack</span>
      </a>

      <!-- M-PESA -->
      <button id="mpesaBtn" class="pay-btn pay-mpesa" type="button">
        <img src="https://upload.wikimedia.org/wikipedia/commons/8/88/M-Pesa_Logo.svg" alt="M-PESA" style="height:16px;margin-right:10px;">
        <span>Pay with M-PESA</span>
      </button>
    </div>
  </div>

  <script>
    /* Plans config (all your provided links/IDs) */
    const PLANS = {
      entry: {
        title: "Entry Plan â€” $19",
        paypal: "https://www.paypal.com/ncp/payment/2X583XDXBYUPN",
        stripeId: "buy_btn_1SVATkH4iReDKpeMvZw5AKr0",
        paystack: "https://paystack.shop/pay/ge2324r8fu",
        mpesaAmount: 19
      },
      pro: {
        title: "Pro Plan â€” $49",
        paypal: "https://www.paypal.com/ncp/payment/DVSZY7GB2QCYW",
        stripeId: "buy_btn_1SVAbIH4iReDKpeM3dbtoiVN",
        paystack: "https://paystack.shop/pay/uli4nrj8xq",
        mpesaAmount: 49
      },
      diamond: {
        title: "Diamond Plan â€” $449",
        paypal: "https://www.paypal.com/ncp/payment/DVSZY7GB2QCYW",
        stripeId: "buy_btn_1SVApvH4iReDKpeM191MsBAz",
        paystack: "https://paystack.shop/pay/4u6jdu7eft",
        mpesaAmount: 449
      },
      lifetime: {
        title: "Lifetime Plan â€” $999",
        paypal: "https://www.paypal.com/ncp/payment/K4Y9SVNW76XYU",
        stripeId: "buy_btn_1SVAdaH4iReDKpeMZZnaOxr6",
        paystack: "https://paystack.shop/pay/-cdm6oobkz",
        mpesaAmount: 999
      }
    };

    /* Elements */
    const modal = document.getElementById('paymentModal');
    const modalTitle = document.getElementById('modalTitle');
    const modalSubtitle = document.getElementById('modalSubtitle');
    const paypalBtn = document.getElementById('paypalBtn');
    const paystackBtn = document.getElementById('paystackBtn');
    const mpesaBtn = document.getElementById('mpesaBtn');
    const stripeContainer = document.getElementById('stripeContainer');
    const closeModalBtn = document.getElementById('closeModalBtn');

    /* Stripe publishable key (your live key) */
    const STRIPE_PUBLISHABLE = "pk_live_51RoZXfH4iReDKpeMdW1C6mtNpEb6dXi2zzQmcO1BSI1j4sWdSkwlD0K2Q4Uu4Go3amDsrzRNYgosya2sp3K7c8nS00D0kNVJDF";

    /* Open modal for plan key */
    function openPaymentModal(planKey) {
      const plan = PLANS[planKey];
      if (!plan) return;

      modalTitle.textContent = plan.title;
      modalSubtitle.textContent = "Choose a payment method â€” secure and instant";

      // PayPal
      paypalBtn.href = plan.paypal;

      // Paystack
      paystackBtn.href = plan.paystack;

      // M-PESA
      mpesaBtn.onclick = () => alert(`ðŸ“² Send Ksh equivalent of $${plan.mpesaAmount} to 0113554446 via M-PESA, then confirm on WhatsApp.`);

      // Stripe: recreate the buy-button element each open (Stripe web component only initializes on creation)
      stripeContainer.innerHTML = "";
      const stripeEl = document.createElement('stripe-buy-button');
      stripeEl.setAttribute('buy-button-id', plan.stripeId);
      stripeEl.setAttribute('publishable-key', STRIPE_PUBLISHABLE);
      // Optional small style tweak container-level
      stripeContainer.appendChild(stripeEl);

      // show modal
      modal.classList.add('show');
      // focus for accessibility
      closeModalBtn.focus();
    }

    /* Attach to all plan buttons */
    document.querySelectorAll('.openPayModal').forEach(btn => {
      btn.addEventListener('click', () => {
        const key = btn.getAttribute('data-plan');
        openPaymentModal(key);
      });
    });

    /* Close handlers */
    closeModalBtn.addEventListener('click', () => modal.classList.remove('show'));
    modal.addEventListener('click', (e) => { if (e.target === modal) modal.classList.remove('show'); });
    document.addEventListener('keydown', e => { if (e.key === 'Escape') modal.classList.remove('show'); });

    /* Accessibility: trap simple focus inside modal when open (lightweight) */
    document.addEventListener('focus', function(ev){
      if (!modal.classList.contains('show')) return;
      if (!modal.contains(ev.target)) {
        ev.stopPropagation();
        closeModalBtn.focus();
      }
    }, true);
  </script>
</body>
</html>
