<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<style>
  body { font-family: 'Poppins', sans-serif; background-color: #1a1424; color: white; scroll-behavior: smooth; }
  .btn { background-color: #D4AF37; color: black; padding: 0.5rem 1rem; border-radius: 0.5rem; font-weight: 600; transition: all 0.2s; cursor: pointer; display: inline-block; text-align: center; }
  .btn:hover { transform: scale(1.05); box-shadow: 0 0 20px #D4AF37; }
  .video-slide { max-width: 100%; border-radius: 0.5rem; box-shadow: 0 0 20px #000; }
  .discount-badge { background-color: #ff4d6d; color: white; padding: 0.2rem 0.5rem; font-size: 0.8rem; border-radius: 0.3rem; margin-left: 0.5rem; }
  .faq-question { font-weight: bold; margin-top: 1rem; }
  .footer-links a { color: #D4AF37; text-decoration: underline; }
</style>
</head>
<body>
 <!-- Plan Cards -->
<div class="grid gap-6 max-w-4xl mx-auto">
  <!-- Entry Plan -->
  <div class="max-w-md mx-auto bg-[#3D2C41] p-6 rounded-2xl shadow-xl text-center text-white">
    <h2 class="text-3xl font-bold mb-2 text-[#D4AF37]">Entry Plan</h2>
    <p class="text-lg mb-4 font-semibold">$19 â€” Full Access</p>
    <ul class="text-left list-disc list-inside mb-6 text-gray-300 text-sm">
      <li>Access to essential features</li>
      <li>Standard video generation</li>
      <li>Basic support</li>
    </ul>
    <button class="openPayModal bg-[#D4AF37] hover:bg-[#b8962d] text-[#3D2C41] font-bold py-2 px-6 rounded-xl shadow-md transition"
      data-plan="entry">Pay Now</button>
  </div>

  <!-- Pro Plan -->
  <div class="max-w-md mx-auto bg-[#3D2C41] p-6 rounded-2xl shadow-xl text-center text-white">
    <h2 class="text-3xl font-bold mb-2 text-[#D4AF37]">Pro Plan</h2>
    <p class="text-lg mb-4 font-semibold">$49 â€” Full Access</p>
    <ul class="text-left list-disc list-inside mb-6 text-gray-300 text-sm">
      <li>Access to most premium features</li>
      <li>High-quality video generation</li>
      <li>Priority support</li>
    </ul>
    <button class="openPayModal bg-[#D4AF37] hover:bg-[#b8962d] text-[#3D2C41] font-bold py-2 px-6 rounded-xl shadow-md transition"
      data-plan="pro">Pay Now</button>
  </div>

  <!-- Diamond Plan -->
  <div class="max-w-md mx-auto bg-[#3D2C41] p-6 rounded-2xl shadow-xl text-center text-white">
    <h2 class="text-3xl font-bold mb-2 text-[#D4AF37]">Diamond Plan</h2>
    <p class="text-lg mb-4 font-semibold">$449 â€” Full Access</p>
    <ul class="text-left list-disc list-inside mb-6 text-gray-300 text-sm">
      <li>Unlimited access to all premium features</li>
      <li>High-quality video generation</li>
      <li>Priority support</li>
      <li>Exclusive templates & prompts</li>
      <li>Access to new features before release</li>
    </ul>
    <button class="openPayModal bg-[#D4AF37] hover:bg-[#b8962d] text-[#3D2C41] font-bold py-2 px-6 rounded-xl shadow-md transition"
      data-plan="diamond">Pay Now</button>
  </div>

  <!-- Lifetime Plan -->
  <div class="max-w-md mx-auto bg-[#3D2C41] p-6 rounded-2xl shadow-xl text-center text-white">
    <h2 class="text-3xl font-bold mb-2 text-[#D4AF37]">Lifetime Plan</h2>
    <p class="text-lg mb-4 font-semibold">$999 â€” Full Access</p>
    <ul class="text-left list-disc list-inside mb-6 text-gray-300 text-sm">
      <li>All premium features unlocked</li>
      <li>High-quality video generation</li>
      <li>Priority support</li>
      <li>Exclusive templates & prompts</li>
      <li>Lifetime updates</li>
    </ul>
    <button class="openPayModal bg-[#D4AF37] hover:bg-[#b8962d] text-[#3D2C41] font-bold py-2 px-6 rounded-xl shadow-md transition"
      data-plan="lifetime">Pay Now</button>
  </div>
</div>

<!-- Payment Modal -->
<div id="paymentModal" class="fixed inset-0 bg-black/60 flex items-center justify-center hidden z-50">
  <div class="bg-white rounded-2xl shadow-2xl w-80 p-6 text-center relative">
    <button id="closePayModal" class="absolute top-2 right-3 text-gray-500 hover:text-gray-700 text-xl font-bold">&times;</button>
    <h3 class="text-lg font-semibold text-[#3D2C41] mb-4" id="modalPlanName">Choose Payment Method</h3>

    <!-- PayPal -->
    <a id="paypalLink" target="_blank"
       class="w-full flex items-center justify-center gap-2 bg-[#003087] hover:bg-[#002060] text-white font-semibold py-2 rounded-lg text-sm transition mb-3">
       <img src="https://upload.wikimedia.org/wikipedia/commons/3/39/PayPal_logo.svg" class="h-4" alt="PayPal">
       <span>Pay with PayPal</span>
    </a>

    <!-- Stripe -->
    <div id="stripeContainer" class="mb-3"></div>

    <!-- Paystack -->
    <a id="paystackLink" target="_blank"
       class="w-full flex items-center justify-center gap-2 bg-[#3DA58A] hover:bg-[#2f8a74] text-white font-semibold py-2 rounded-lg text-sm transition mb-3">
       <img src="https://upload.wikimedia.org/wikipedia/commons/0/09/Paystack_logo.png" class="h-4" alt="Paystack">
       <span>Pay with Paystack</span>
    </a>

    <!-- M-PESA -->
    <button id="mpesaButton"
      class="w-full flex items-center justify-center gap-2 bg-[#FFA500] hover:bg-[#e69500] text-white font-semibold py-2 rounded-lg text-sm transition">
      <img src="https://upload.wikimedia.org/wikipedia/commons/8/88/M-Pesa_Logo.svg" class="h-4" alt="M-PESA">
      <span>Pay with M-PESA</span>
    </button>
  </div>
</div>

<!-- Stripe SDK -->
<script async src="https://js.stripe.com/v3/buy-button.js"></script>

<script>
const plans = {
  entry: {
    name: "Entry Plan ($19)",
    paypal: "https://www.paypal.com/ncp/payment/2X583XDXBYUPN",
    stripe: "buy_btn_1SVATkH4iReDKpeMvZw5AKr0",
    paystack: "https://paystack.shop/pay/ge2324r8fu",
    mpesa: 19
  },
  pro: {
    name: "Pro Plan ($49)",
    paypal: "https://www.paypal.com/ncp/payment/DVSZY7GB2QCYW",
    stripe: "buy_btn_1SVAbIH4iReDKpeM3dbtoiVN",
    paystack: "https://paystack.shop/pay/uli4nrj8q",
    mpesa: 49
  },
  diamond: {
    name: "Diamond Plan ($449)",
    paypal: "https://www.paypal.com/ncp/payment/DVSZY7GB2QCYW",
    stripe: "buy_btn_1SVApvH4iReDKpeM191MsBAz",
    paystack: "https://paystack.shop/pay/4u6jdu7eft",
    mpesa: 449
  },
  lifetime: {
    name: "Lifetime Plan ($999)",
    paypal: "https://www.paypal.com/ncp/payment/K4Y9SVNW76XYU",
    stripe: "buy_btn_1SVAdaH4iReDKpeMZZnaOxr6",
    paystack: "https://paystack.shop/pay/-cdm6oobkz",
    mpesa: 999
  }
};

const modal = document.getElementById("paymentModal");
const paypalLink = document.getElementById("paypalLink");
const paystackLink = document.getElementById("paystackLink");
const mpesaButton = document.getElementById("mpesaButton");
const stripeContainer = document.getElementById("stripeContainer");
const modalPlanName = document.getElementById("modalPlanName");

document.querySelectorAll(".openPayModal").forEach(btn => {
  btn.addEventListener("click", () => {
    const planKey = btn.dataset.plan;
    const plan = plans[planKey];

    modalPlanName.textContent = plan.name;
    paypalLink.href = plan.paypal;
    paystackLink.href = plan.paystack;
    mpesaButton.onclick = () => alert(`ðŸ“² Send Ksh equivalent of $${plan.mpesa} to 0113554446 via M-PESA, then confirm on WhatsApp.`);

    // Stripe Button
    stripeContainer.innerHTML = '';
    const stripeBtn = document.createElement('stripe-buy-button');
    stripeBtn.setAttribute('buy-button-id', plan.stripe);
    stripeBtn.setAttribute('publishable-key', 'pk_live_51RoZXfH4iReDKpeMdW1C6mtNpEb6dXi2zzQmcO1BSI1j4sWdSkwlD0K2Q4Uu4Go3amDsrzRNYgosya2sp3K7c8nS00D0kNVJDF');
    stripeContainer.appendChild(stripeBtn);

    modal.classList.remove("hidden");
  });
});

document.getElementById("closePayModal").addEventListener("click", () => modal.classList.add("hidden"));
modal.addEventListener("click", e => { if (e.target === modal) modal.classList.add("hidden"); });
</script>
